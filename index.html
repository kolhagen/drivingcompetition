<!DOCTYPE html>
<html>
<head>
	<title>Driving Competition</title>

	<meta charset="utf-8" />

	<!-- Load Stylesheets -->
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="stylesheets/content.css" />
	<link rel="stylesheet" href="stylesheets/driver.css" />
	<link rel="stylesheet" href="stylesheets/details.css" />

	<!-- Load Javascript Libraries -->
	<script src="build/react.js"></script>
	<script src="build/JSXTransformer.js"></script>
	<script src="build/jquery-2.1.4.min.js"></script>
	<script src="bootstrap/js/bootstrap.min.js"></script>

	<!-- Load Static Data -->
	<script src="data/driver.js"></script>

	<!-- Load Javascript Libraries -->
	<script src="build/sap-api.js"></script>
	<script src="build/sap-init.js"></script>
	<script src="build/sap-score.js"></script>
	<script src="build/sap-data.js"></script>

	<!-- Load Templates -->
	<script src="templates/driver.js" type="text/jsx"></script>
	<script src="templates/details.js" type="text/jsx"></script>
	<script src="templates/content.js" type="text/jsx"></script>
</head>
<body>
	<!-- Main Content Container -->
	<div id="container"></div>

	<div class="modal fade" id="modalLoading">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Welcome</h4>
	      </div>
	      <div class="modal-body">
	        <p>Due to this being your first visit, we need to aggregate some data first.<br/>This may take some time&hellip;</p>
					<div class="progress">
						<div id="modalLoadingProgress" class="progress-bar progress-bar-info progress-bar-striped" style="width: 0%"></div>
					</div>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<script type="text/jsx">
		function initialize() {
			SAP.SCORE.init();
			SAP.DATA.init();

			// Render content
			React.render(
				<Content />,
				document.getElementById("container")
			);
		}

		$(document).ready(function() {
			// check if all data is available
			if (SAP.SCORE.isDataAvailable() &&
					SAP.DATA.isDataAvailable()) {
				// initialize directly
				initialize();
			} else {
				// first load data from SAP HANA
				SAP.INIT.update(function() {
					initialize();
				});
			}
		});
	</script>
</body>
</html>
